<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->  
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->  
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->  
<head>
  <title>Peterbook by Infinate - Documentation</title>
  <!-- Meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Peterbook project">
  <meta name="author" content="infinate">    
  <link rel="shortcut icon" href="favicon.ico">  
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
  <!-- Global CSS -->
  <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">   
  <!-- Plugins CSS -->    
  <link rel="stylesheet" href="assets/plugins/font-awesome/css/font-awesome.css">
  <link rel="stylesheet" href="assets/plugins/prism/prism.css">
  <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">

  <!-- Theme CSS -->
  <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

</head> 

<body class="body-blue">
  <div class="page-wrapper">
    <!-- ******Header****** -->
    <header id="header" class="header">
      <div class="container">
        <div class="branding">
          <h1 class="logo">
            <a href="index.html">
              <span aria-hidden="true" class="icon_documents_alt icon"></span>
              <span class="text-highlight">Infinate</span><span class="text-bold">Documentation</span>
            </a>
          </h1>
        </div><!--//branding-->
        <ol class="breadcrumb">
          <li><a href="index.html">Home</a></li>
          <li class="active">Documentation</li>
        </ol>
      </div><!--//container-->
    </header><!--//header-->
    <div class="doc-wrapper">
      <div class="container">
        <div class="doc-body">
          <div class="doc-content">
            <div class="content-inner">
              <section id="repo" class="doc-section">
                <h2 class="section-title">Peterbook's repo/codebase</h2>

                <div id="repo-react" class="section-block">
                  <h6>React Redux</h6>
                  <p>
                    To understand peterbook's codebase, you will need to know how to write in Redux structure. (The link to the redux tutorial is <a href="https://redux.js.org/introduction">here</a>)
                    The main layers you will need to know in order to understand our codebase are:
                  </p>
                  <div>
                    <ul>
                        <li>
                          <strong>Component</strong>: This is where the user interface and most of the front-end rendering part
                            of the project will be at.
                        </li>
                        <li>
                          <strong>Actions</strong>: This is where states can be changed. The action is just a javascript
                            objects that will be modified and passed to the store once Action finishes. 
                        </li>
                        <li>
                          <strong>Reducers</strong>: This is where the dispatched actions will be parsed, and returns 
                          modified states based on what action did. This will allow the Component props to access the changed states.
                        </li>
                        <li>
                          <strong>Services</strong>: This is basically an a helper function for Actions. 
                        </li>
                      </ul>
                  </div>
                </div>
                <div id="repo-inside" class="section-block">
                  <h6>Peterbook's Source</h6>
                  <div>
                    <ul>
                      <li id="/src/api">
                        <strong>/src/api</strong>: <p>This directory/folder is responsible for fetching informations in the database 
                          for you to easily access the contents.<br />
                        Developers can fetch specific Comment lists, Post lists, and Images by simply calling the functions 
                        written/built in from the API files.</p>
                      </li>
                      <li id="/src/components">
                        <strong>/src/components</strong>: 
                        <p>This directory/folder is responsible for the user interface and front-end rendering part of the 
                          redux structure.
                          When you are trying to make an edit or debug user interface, you should check here (and 
                          /src/container). the contents in /src/components are sorted by what they are responsible for - for 
                          example, the contents inside /src/components/comment will contain components for comment related 
                          part of the code, and so on with rest of the contents. 
                        </p>
                      </li>
                      <li id="/src/containers">
                      <strong>/src/containers</strong>:
                      <p>This directory/folder contains functions that allows component props to be able to connect with states.<br/>
                         Currently, our repo's container covers the following components: </p>
                         <div>
                           <ul>
                            <li>Pages related to user's informations - Sign Up, Email Verification, Login, Reset Password, Profile</li>
                            <li>Pages related to static front pages - Homepage, Sidebar, Navigation Bar</li>
                            <li>Pages related to Social Network contents - Posts, People</li>
                          </ul>
                          </div>
                         <p>
                           These containers maps dispatch to props and states, and connects in order to trigger an action.
                         </p>
                      </li>
                      <li id="/src/store/">
                        <strong>/src/store</strong>:
                        <p>
                          This directory/folder is responsible for executing Actions and Reducers. The store folder will have sub-
                          folder named actions and reducers. actions contains all action files that will return an action object,
                          and then reducers will parse that action - it will check what type of action the actions function returned,
                          and will make necessary changes in state and return.
                          For example, let's look at the simple example in <code>/src/store/actions/commentActions.ts</code> starting
                          at line 185:
                        </p>
                        <pre><code class="language-markup">185  export const clearAllData = () => {
186     return {
187      type: CommentActionType.CLEAR_ALL_DATA_COMMENT
188    }
189  }</code></pre>
                        <p><br/>This function simply returns an action object of type <i>CLEAR_ALL_DATA_COMMENT</i> The type
                        <i>CLEAR_ALL_DATA_COMMENT</i> type is defined in <code>/src/constants/commentActionTypes.ts</code> as:
                        </p>
                        <pre><code class="language-markup">6  CLEAR_ALL_DATA_COMMENT = 'CLEAR_ALL_DATA_COMMENT',</code></pre>
                        <p><br/>Now, if we navigate to comment's reducer <code>/src/store/reducers/commentReducer/ts</code>, you
                        will notice that the reducer file has the following switch case to identify the type of action starting
                        at line 51:
                        </p>
                        <pre><code class="language-markups">23  switch (action.type) {
51    case CommentActionType.CLEAR_ALL_DATA_COMMENT:
52      return Map(new CommentState())
53    default:
54      return state
55  }
                        </code></pre>
                        <p><br/>The reducer will be able to find out that the action was CLEAR_ALL_DATA_COMMENT, and will make 
                          an appropriate change to state and return it, in order for component's prop to be able to access
                          the changed state.
                        </p>
                      </li>
                      <li id="/src/constants">
                        <strong>/src/constants</strong>: 
                        <p>This directory/folder is responsible for having type definions and string definitions for us to 
                          use them while programming. This folder also contains type definitions for Actions when they return.
                          For example, the type CLEAR_ALL_DATA_COMMENT defined in here will be used throughout the 
                          <code>/src/store/actions/commentAction.ts</code>
                        </p>
                      </li>
                      <li id="/src/data">
                        <strong>/src/data</strong>:
                        <p>This directory/folder is responsible for providing helper functions to Actions, which are inside 
                          <code>/src/data/firestoreClient/Services</code>. When execution action functions in 
                          <code>/src/store/actions</code>, they will make a call to functions written in the Services. this
                          helps you to read the codes more easily, as they are more organized and as a result each files contain
                          less code overall. 
                        </p>
                      </li>
                      <li id="/src/core">
                        <strong>/src/core</strong>:
                        <p>This directory/folder is responsible for having function definitions for the Service functions written
                          in data (function name, type, and parameters). This is similar to <code>/src/constants</code>, except 
                          that this folder stores all the function definitions. 
                        </p>
                      </li>
                      <li id="/src/assets">
                      <strong>/src/assets</strong>:
                      <p>This directory/folder is responsible for saving the assets that developers will use throughout the code.
                        You may add more into this folder if you want to use more font, image, or icons. 
                      </p>
                      </li>
                      <li id="/src/models">
                        <strong>/src/models</strong>:
                        <p>This folder has same purpose as /src/core.</p>
                      </li>
                      <li id="/src/styles">
                        <strong>/src/styles</strong>:
                        <p>This directory/folder is responsible for the style of the components and pages.</p>
                      </li>
                      <li id="/src/tests">
                        <strong>/src/tests</strong>:
                          <p>This directory/folder is responsible for unit tests for the codes we may want to verify that it works 
                            as intended and bug-free.
                          </p>
                      </li>
                    </ul>
                  </div>
                </div>
              </section>
              <section id="code-section" class="doc-section">
                <h2 class="section-title">Editing the UI</h2>


                <div id="primary" class="section-block">
                  <div class="code-block">
                    <h6>Editing Primary Colors of the App</h6>
                    <p>
                    You can find the primary application colors in two files: 
                    <p style="font-family:veranda;">	
                    <code>src/config/environment.dev.ts</code>
                    </p>
                    <p style="font-family:veranda;">	
                    <code>src/config/environment.prod.ts</code>
                    </p>
                    And at about lines 19 and 20 you should edit the primary and secondary colors.
                    </p>
                    <pre><code class="language-javascript">theme: {
    primaryColor: '#ffffff',//colors based on Facebook pallete
    secondaryColor: '#3B5998'
}</code></pre></div><!--//code-block--></div><!--//section-block-->


                    <div id="sidemenu" class="section-block">
                      <div class="code-block">
                        <h6>Editing the Sidebar Menu</h6>
                        <div class="screenshot-holder">
                          <a href="assets/images/sidebar.png" data-title="Dashboard - Web Hosting" data-toggle="lightbox"><img class="img-responsive" src="assets/images/sidebar.png" alt="screenshot" /></a>
                        </div> 
                        <p>
                        You can find the code the sidebar in: 
                        <p style="font-family:veranda;">	
                        <code>src/containers/home/HomeComponent.tsx</code>
                        </p>
                        <p>
                        For example, we added in a link to a page where the user can subscribe to get an ad-free experience.
                        To do this, we added this snippet of code starting on line 248:
                        </p>
                        <pre><code class="language-markup">248  &#x3C;NavLink to=&#x27;/subscribe&#x27;&#x3E;
248    &#x3C;MenuItem style={{ color: &#x27;rgb(117, 117, 117,)&#x27; }}&#x3E;
250      &#x3C;ListItemIcon&#x3E;
251        &#x3C;SvgAccountBalance/&#x3E;
252      &#x3C;/ListItemIcon&#x3E;
253      &#x3C;ListItemText inset primary={translate!(&#x27;sidebar.subscribe&#x27;)} /&#x3E;
254    &#x3C;/MenuItem&#x3E;
255  &#x3C;/NavLink&#x3E;</code></pre>
                        The icon is imported from the material-ui, which can be found in the <code>node_modules</code> part
                        of the file directory. As for the text, notice line 253 we pull from 'sidebar.subscribe' to get the
                        text. This comes from the file <code>src/locale/en.json</code> which contains all the "static" text
                        for the app. This is the text that doesn't change within the app, like menu titles.
                      </div><!--//code-block-->
                    </div><!--//section-block-->

                    <div id="advertisements" class="section-block">
                      <div class="code-block">
                        <h6>Editing the Advertisements</h6>
                        <p>
                        You can find the primary application colors in two files: 
                        <p style="font-family:veranda;">	
                        <code>src/config/environment.dev.ts</code>
                        </p>
                        <p style="font-family:veranda;">	
                        <code>src/config/environment.prod.ts</code>
                        </p>
                        And at about lines 19 and 20 you should edit the primary and secondary colors
                        </p>
                        <pre><code class="language-javascript">&lt;script&gt; 
  theme: {
    primaryColor: '#ffffff',//colors based on Facebook pallete
    secondaryColor: '#3B5998'
  }
&lt;/script&gt;</code></pre>
                      </div><!--//code-block-->
                    </div><!--//section-block-->
              </section><!--//doc-section-->
              <section id="component-add-section" class="doc-section">
                  <h2 class="section-title">Custom Components</h2>

                  <div id="component-add" class="section-block">
                    <h6>Add New Component</h6>
                    <p>If you have a custom component that you wish to include in the codebase, you can do so by
                      using npm (Node Package Manager).</p>
                    <p>
                      Assuming the npm is installed in your machine, go to <a href="https://www.npmjs.com/" target="_blank">npm site</a> 
                      and search for the package you wish to install. 
                    </p>
                    <p>
                      Once you found the package, open the terminal and navigate to the peterbook directory. Then install 
                      the component by typing the following in the command:
                    </p>
                    <code>(sudo) npm install --save <i>component-name</i></code>
                    <p>
                      <br/>The <code>--save</code> option is needed in order to include the package in the package.json 
                      file's dependencies automatically 
                      (<a href="https://stackoverflow.com/questions/19578796/what-is-the-save-option-for-npm-install" target="_blank">Source</a>)
                    </p>
                  </div>

                  <div id="component-check" class="section-block">
                    <h6>Check if Component was Added</h6>
                    <p>
                      Once the installation is complete, you can use the installed package just like any other components. 
                      To see if the package was successfully installed in package.json's dependencies, check:
                    </p>
                    <div>
                      <a href="assets/images/package_dependencies_1.png" data-title="Package_Install_Checklist1" data-toggle="lightbox"><img class="img-responsive" src="assets/images/package_dependencies_1.png" alt="screenshot" style="max-width: 480px"/></a>
                      <p>
                        Is package type added on dependencies similar to highlight on image?<br/><br/>
                      </p>
                    </div>
                    <div>
                        <a href="assets/images/package_dependencies_2.png" data-title="Package_Install_Checklist2" data-toggle="lightbox"><img class="img-responsive" src="assets/images/package_dependencies_2.png" alt="screenshot" style="max-width: 480px"/></a>
                        <p>
                          Is package added on dependencies similar to highlight on image?<br/><br/>
                        </p>
                    </div>
                  </div>
              </section>

              <section id="inner-circle" class="doc-section">
                  <h2 class="section-title">Privacy Idea: The Inner Circle</h2>
                  <div id="ic-overview" class="section-block">
                    <h6>Overview</h6>
                    <a href="assets/images/inner-circle.png" data-title="Package_Install_Checklist2" data-toggle="lightbox"><img class="img-responsive" src="assets/images/inner-circle.png" alt="screenshot" style="max-width: 780px"/></a>
                    <p>
                      (not actually implemented)
                    </p>
                    <p>
                      The inner circle will be the way the peterbook determines the level of access to user’s personal information, 
                      or private contents to group of other users. We were able to come up with an idea of how to do this, but did 
                      not have enough time to actually implement it.
                    </p>
                    <p>
                      - There will be 4 different layers of access among different users:
                      <ul>
                        <li>Only written posts (can only access the user’s written posts)</li>
                        <li>Only written posts and image posts (can access user’s image posts and written posts)</li>
                        <li>Access to posts and basic profile information (first name, last name, userID only)</li>
                        <li>Grant all access (email, my friend lists, phone numbers, etc)</li>
                      </ul>
                      Comment will be accessible regardless of level of access.
                    </p>
                    <p>
                        When you send a friend request, you will always be requesting with 1st layer.
                        When you receive a friend request, you will be able to choose which level of 
                        layer you wish to group this user in. It will be done with the slider just like the image.                        
                    </p>
                  </div>
                  <div id="ic-post" class="section-block">
                    <h6>How this affects Users</h6>
                    <p>
                      When user makes a post, he/she will be able to select individual users whom you wish to share with. This post 
                      will have a different colored border around the post so that people with an access will be able to distinguish the difference easily. 
                      <ul>
                        <li>User will be able to select people categorized in different layers when doing this. </li>
                        <li>
                          If user moves the slider, then friends in outer circle will be hidden
                          <ul>
                            <li>To select a friend from the circle, simply click them</li>
                            <li>User should also be able to manually write their names if he/she wishes to.</li>
                          </ul>
                        </li>
                      </ul>
                    </p>
                  </div>
                  <div id="ic-implementation" class="section-block">
                    <h6>Implementation Approach</h6>
                    <ul>
                      <li>
                        This will involve a change in database, mostly on the database.
                      </li>
                      <li>
                        Comments are irrelevant, so it should not need to be touched
                      </li>
                      <li>
                        Posts collection will need few more fields/attributes: 
                      </li>
                      <li>
                        UserInfo collection will need more fields/attributes:
                      </li>
                      <li>
                        Our current Users’ circle is not enough. It will need massive overhaul:
                      </li>
                    </ul>
                  </div>
              </section>
              </section><!--//doc-section-->
            </div><!--//content-inner-->
          </div><!--//doc-content-->

          <div class="doc-sidebar hidden-xs">
            <nav id="doc-nav">
              <ul id="doc-menu" class="nav doc-menu" data-spy="affix">
                <!--<a class="scrollto" href="#repo-section">Our Project</a>-->
                <a class="scrollto" href="#repo">Our Repo/Code</a>
                <ul class="nav doc-sub-menu">
                    <li><a class="scrollto" href="#repo-react">React Redux</a></li>
                    <li><a class="scrollto" href="#/src/api">api</a></li>
                    <li><a class="scrollto" href="#/src/components">components</a></li>
                    <li><a class="scrollto" href="#/src/containers">containers</a></li>
                    <li><a class="scrollto" href="#/src/store">store</a></li>
                    <li><a class="scrollto" href="#/src/constants">constants</a></li>
                    <li><a class="scrollto" href="#/src/data">data</a></li>
                    <li><a class="scrollto" href="#/src/core">core</a></li>
                    <li><a class="scrollto" href="#/src/assets">assets</a></li>
                    <li><a class="scrollto" href="#/src/models">models</a></li>
                    <li><a class="scrollto" href="#/src/styles">styles</a></li>
                    <li><a class="scrollto" href="#/src/tests">tests</a></li>
                </ul>
                <a class="scrollto" href="#code-section">Editing the UI</a>
                <ul class="nav doc-sub-menu">
                  <li><a class="scrollto" href="#primary">Editing Primary Colors</a></li>
                  <li><a class="scrollto" href="#sidemenu">Editing the Sidebar Menu</a></li>
                </ul><!--//nav-->
                <a class="scrollto" href="#component-add-section">Custom Components</a>
                <ul class="nav doc-sub-menu">
                  <li><a class="scrollto" href="#component-add">Add new Component</a></li>
                  <li><a class="scrollto" href="#component-check">Check if Component was Added</a></li>
                </ul>
                <a class="scrollto" href="#inner-circle">Privacy Idea: The Inner Circle</a>
                <ul class="nav doc-sub-menu">
                  <li><a class="scrollto" href="#ic-overview">Overview</a></li>
                  <li><a class="scrollto" href="#ic-post">How this affects Users</a></li>
                  <li><a class="scrollto" href="#ic-implementation">Implementation Approach</a></li>
                </ul>
                </li><a class="scrollto" href="#code-section">Editing this Documentation</a>
                <ul class="nav doc-sub-menu">
                  <li><a class="scrollto" href="#primary">Editing Primary Colors</a></li>
                </ul><!--//nav-->
                </li>
              </ul><!--//doc-menu-->
            </nav>
          </div><!--//doc-sidebar-->
        </div><!--//doc-body-->              
      </div><!--//container-->
    </div><!--//doc-wrapper-->
  </div><!--//page-wrapper-->

  <footer id="footer" class="footer text-center">
    <div class="container">
      <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can check out other license options via our website: themes.3rdwavemedia.com */-->
      <small class="copyright">Designed with <i class="fa fa-heart"></i> by <a href="http://themes.3rdwavemedia.com/" targe="_blank">Xiaoying Riley</a> for developers</small>
    </div><!--//container-->
  </footer><!--//footer-->

  <!-- Main Javascript -->          
  <script type="text/javascript" src="assets/plugins/jquery-1.12.3.min.js"></script>
  <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="assets/plugins/prism/prism.js"></script>    
  <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>                                                                
  <script type="text/javascript" src="assets/plugins/jquery-match-height/jquery.matchHeight-min.js"></script>
  <script type="text/javascript" src="assets/js/main.js"></script>

</body>
</html> 

