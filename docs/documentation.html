<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->  
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->  
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->  
<head>
  <title>Peterbook by Infinate - Documentation</title>
  <!-- Meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Peterbook project">
  <meta name="author" content="infinate">    
  <link rel="shortcut icon" href="favicon.ico">  
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
  <!-- Global CSS -->
  <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">   
  <!-- Plugins CSS -->    
  <link rel="stylesheet" href="assets/plugins/font-awesome/css/font-awesome.css">
  <link rel="stylesheet" href="assets/plugins/prism/prism.css">
  <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">

  <!-- Theme CSS -->
  <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

</head> 

<body class="body-blue">
  <div class="page-wrapper">
    <!-- ******Header****** -->
    <header id="header" class="header">
      <div class="container">
        <div class="branding">
          <h1 class="logo">
            <a href="index.html">
              <span aria-hidden="true" class="icon_documents_alt icon"></span>
              <span class="text-highlight">Infinate</span><span class="text-bold">Documentation</span>
            </a>
          </h1>
        </div><!--//branding-->
        <ol class="breadcrumb">
          <li><a href="index.html">Home</a></li>
          <li class="active">Documentation</li>
        </ol>
      </div><!--//container-->
    </header><!--//header-->
    <div class="doc-wrapper">
      <div class="container">
        <div class="doc-body">
          <div class="doc-content">
            <div class="content-inner">
              <section id="repo" class="doc-section">
                <h2 class="section-title">Peterbook's Repo/Codebase</h2>

                <div id="repo-react" class="section-block">
                  <h6>React Redux</h6>
                  <p>
                    To understand peterbook's codebase, you will need to know how to write in Redux structure. 
                    <a href="https://redux.js.org/introduction" target="_blank">here</a> and 
                    <a href="https://www.valentinog.com/blog/react-redux-tutorial-beginners/" target="_blank">here</a>
                    are some helpful redux tutorial if you are not familiar with react or redux.
                    The general idea you will need to know in order to understand our codebase are the followings:
                  </p>
                  <div>
                    <ul>
                        <li>
                          <p>
                            <strong>Component</strong>: This is where the user interface and most of the front-end rendering part
                            of the project will be at. 
                          </p>
                        </li>
                        <li>
                          <p>
                            <strong>Stores</strong>: Store is basically where all the states are dispatched, 
                            can be modified, and connected. To do so, Store needs two things: <strong>Actions</strong> and <strong>Reducers</strong>.<br/>
                            <i>Actions</i> are javascript objects that will be modified and passed to the store. This is done by dispatchig an action 
                            to store, and then store will use this signal to trigger Reducers. <br/>
                            <i>Reducer</i> is a javascript function that takes <i>current state</i> and <i>action</i>. Which means, if there was an action,
                            store will be keeping an eye on it and once action returns, it will trigger the reducer to first identify what type of 
                            action it was, and make necessary modifications and return the necessary state. <br/>
                            If you are familiar with MVC structure, think of Stores as a Controller part of the structure. It will process an action, parse and modify state, and then return 
                            it so that the components prop will be able to use it.
                          </p>
                        </li>
                        <li>
                          <p>
                            <strong>Services</strong>: This is basically where the helper functions for Actions are located. If action needs to 
                            perform some additional functionality or needs functionality in multiple actions, instead of writing them in actions 
                            it will be written in Service. With Services, actions can perform complex functionalities by simply calling the necessary
                            functions when they need to. This will help clean up the code and organize the codebase.
                          </p>
                        </li>
                      </ul>
                  </div>
                </div>
                <div id="repo-inside" class="section-block">
                  <h6>Peterbook's Source</h6>
                  <div>
                    <ul>
                      <li id="/src/api">
                        <strong>/src/api</strong>: 
                        <p>This directory/folder is responsible for fetching informations in the database 
                          for you to easily access the contents.<br />
                        You can fetch specific comment lists, post lists, and images by calling the functions 
                        written/built in from the API files.</p>
                      </li>
                      <li id="/src/components">
                        <strong>/src/components</strong>: 
                        <p>This directory/folder is responsible for the user interface and front-end rendering part of the 
                          redux structure.
                          When you are trying to make an edit or debug user interface, you should check here (and 
                          /src/container). The contents in /src/components are sorted by what they are responsible for - for 
                          example, the contents inside /src/components/comment will contain components for comment related 
                          part of the app, /src/components/post will contain components for post related part of the app,
                          and so on with rest of the components. 
                        </p>
                      </li>
                      <li id="/src/containers">
                      <strong>/src/containers</strong>:
                      <p>This directory/folder also contains components that allows component props to be able to connect with their states.<br/>
                         Currently, peterbook's container is composed of following components: </p>
                         <p>
                           <ul>
                            <li>Pages related to user's informations - Sign Up, Email Verification, Login, Reset Password, Profile</li>
                            <li>Pages related to static front pages - Homepage, Sidebar, Navigation Bar</li>
                            <li>Pages related to Social Network contents - Posts, People</li>
                          </ul>
                          </p>
                      </li>
                      <li id="/src/store">
                        <strong>/src/store</strong>:
                        <p>
                          This directory/folder is responsible for executing Actions and Reducers (the explanation of store/actions/reducer is stated
                          <a href="#repo-react">above</a>). The store folder will have sub-
                          folders named actions and reducers. Actions contain all action files that will return an action object,
                          and reducers contain all reducer files that will check what type of action was returned,
                          and make necessary changes in state and return based on that information.
                          Let's look at the simple example in <code>/src/store/actions/commentActions.ts</code> starting
                          at line 185:
                        </p>
                        <pre><code class="language-markup">185  export const clearAllData = () => {
186     return {
187      type: CommentActionType.CLEAR_ALL_DATA_COMMENT
188    }
189  }</code></pre>
                        <p><br/>This function simply returns an action object of type <i>CLEAR_ALL_DATA_COMMENT</i>. The
                        <i>CLEAR_ALL_DATA_COMMENT</i> type is just a string defined in <code>/src/constants/commentActionTypes.ts</code> as:
                        </p>
                        <pre><code class="language-markup">6  CLEAR_ALL_DATA_COMMENT = 'CLEAR_ALL_DATA_COMMENT',</code></pre>
                        <p><br/>Now, if we navigate to comment's reducer <code>/src/store/reducers/commentReducer.ts</code>, you
                        will notice that the reducer file has the following switch case to identify the type of action starting
                        at line 51:
                        </p>
                        <pre><code class="language-markups">23  switch (action.type) {
51    case CommentActionType.CLEAR_ALL_DATA_COMMENT:
52      return Map(new CommentState())
53    default:
54      return state
55  }
                        </code></pre>
                        <p><br/>The reducer will be able to find out that the action type was CLEAR_ALL_DATA_COMMENT, and will make 
                          a new state and return it, allowing component's prop to access the updated state. <br/>If you wish to modify 
                          the reducer or action's functionality, this is the folder/directory you should be looking at.
                        </p>
                      </li>
                      <li id="/src/constants">
                        <strong>/src/constants</strong>: 
                        <p>This directory/folder is responsible for storing type definitions and string definitions for you to 
                          use when coding actions and reducers. For example, the type CLEAR_ALL_DATA_COMMENT defined in here will be used in the 
                          <code>/src/store/actions/commentAction.ts</code> and reducer as well.
                        </p>
                      </li>
                      <li id="/src/data">
                        <strong>/src/data</strong>:
                        <p>This directory/folder is responsible for providing helper functions to Actions, which are inside 
                          <code>/src/data/firestoreClient/Services</code>. When action need to perfom some repetitive or complex 
                          functions in <code>/src/store/actions</code>, you will make a call to functions written in the Services. 
                          <br/><br/> For example, <code>/src/store/actions/commentAction.ts</code> will use the function 'addComment()' multiple times
                          in the file, which is a function written in <code>/src/data/firestoreClient/services/comments/commentService.ts</code> at line 
                          26.
                        </p>
                        <pre><code class="language-markups">57    return commentService.addComment(comment)</code></pre>
                        <p>(example of commentAction.ts using addComment function)</p>
                        <pre><code class="language-markups">26   public addComment: (comment: Comment)
27  => Promise<string> = (comment) => {
28    return new Promise<string>((resolve,reject) => {
29      let commentRef = db.collection('comments')
30      commentRef.add(comment).then((result) => {
31         resolve(result.id)
32      })
33      .catch((error: any) => {
34        reject(new SocialError(error.code,error.message))
35      })
36    })
37  }</code></pre>
                        <p>
                          (addComment in commentService.ts file)
                        </p>
                        <p>
                          This
                          helps you to read the codes more easily, as they are more organized and as a result each files contain
                          less code overall. 
                        </p>
                      </li>
                      <li id="/src/core">
                        <strong>/src/core</strong>:
                        <p>This directory/folder is responsible for having function definitions for the Service functions written
                          in data (function name, type, and parameters). The directory/folder also contains definitions for domain
                          and factories.
                        </p>
                      </li>
                      <li id="/src/assets">
                      <strong>/src/assets</strong>:
                      <p>This directory/folder is responsible for saving the assets that developers will use throughout the code.
                        If you want to add an unique fonts or custom images, add them in this folder. The
                        font and image files has to be physically stored inside each folder for you to use them.
                      </p>
                      </li>
                      <li id="/src/models">
                        <strong>/src/models</strong>:
                        <p>This directory/folder holds variable, type, function definitions for files such as <code>/src/core</code> 
                          or <code>/src/constants</code>.
                          It also contains class definitions for files and users. 
                        </p>
                      </li>
                      <li id="/src/styles">
                        <strong>/src/styles</strong>:
                        <p>This directory/folder is responsible for the style of the components and pages.The css and scss files, such
                          as icons, animations, css styles for each components, and global css style are stored in this directory/folder. </p>
                      </li>
                      <li id="/src/tests">
                        <strong>/src/tests</strong>:
                          <p>This directory/folder is responsible for handling all unit tests that you may want to verify that it works 
                            as intended and bug-free.
                          </p>
                      </li>
                    </ul>
                  </div>
                </div>
              </section>
              <section id="code-section" class="doc-section">
                <h2 class="section-title">Editing the UI</h2>


                <div id="primary" class="section-block">
                  <div class="code-block">
                    <h6>Editing Primary Colors of the App</h6>
                    <p>
                    You can find the primary application colors in two files: 
                    <p style="font-family:veranda;">	
                    <code>src/config/environment.dev.ts</code>
                    </p>
                    <p style="font-family:veranda;">	
                    <code>src/config/environment.prod.ts</code>
                    </p>
                    And at about lines 19 and 20 you should edit the primary and secondary colors.
                    </p>
                    <pre><code class="language-javascript">theme: {
    primaryColor: '#ffffff',//colors based on Facebook pallete
    secondaryColor: '#3B5998'
}</code></pre></div><!--//code-block--></div><!--//section-block-->


                    <div id="sidemenu" class="section-block">
                      <div class="code-block">
                        <h6>Editing the Sidebar Menu</h6>
                        <div class="screenshot-holder">
                          <a href="assets/images/sidebar.png" data-title="Dashboard - Web Hosting" data-toggle="lightbox"><img class="img-responsive" src="assets/images/sidebar.png" alt="screenshot" /></a>
                        </div> 
                        <p>
                        You can find the code the sidebar in: 
                        <p style="font-family:veranda;">	
                        <code>src/containers/home/HomeComponent.tsx</code>
                        </p>
                        <p>
                        For example, we added in a link to a page where the user can subscribe to get an ad-free experience.
                        To do this, we added this snippet of code starting on line 248:
                        </p>
                        <pre><code class="language-markup">248  &#x3C;NavLink to=&#x27;/subscribe&#x27;&#x3E;
248    &#x3C;MenuItem style={{ color: &#x27;rgb(117, 117, 117,)&#x27; }}&#x3E;
250      &#x3C;ListItemIcon&#x3E;
251        &#x3C;SvgAccountBalance/&#x3E;
252      &#x3C;/ListItemIcon&#x3E;
253      &#x3C;ListItemText inset primary={translate!(&#x27;sidebar.subscribe&#x27;)} /&#x3E;
254    &#x3C;/MenuItem&#x3E;
255  &#x3C;/NavLink&#x3E;</code></pre>
                        The icon is imported from the material-ui, which can be found in the <code>node_modules</code> part
                        of the file directory. As for the text, notice line 253 we pull from 'sidebar.subscribe' to get the
                        text. This comes from the file <code>src/locale/en.json</code> which contains all the "static" text
                        for the app. This is the text that doesn't change within the app, like menu titles.
                      </div><!--//code-block-->
                    </div><!--//section-block-->

                    <div id="advertisements" class="section-block">
                      <div class="code-block">
                        <h6>Editing the Advertisements</h6>
                        <p>
                        You can find the primary application colors in two files: 
                        <p style="font-family:veranda;">	
                        <code>src/config/environment.dev.ts</code>
                        </p>
                        <p style="font-family:veranda;">	
                        <code>src/config/environment.prod.ts</code>
                        </p>
                        And at about lines 19 and 20 you should edit the primary and secondary colors
                        </p>
                        <pre><code class="language-javascript">&lt;script&gt; 
  theme: {
    primaryColor: '#ffffff',//colors based on Facebook pallete
    secondaryColor: '#3B5998'
  }
&lt;/script&gt;</code></pre>
                      </div><!--//code-block-->
                    </div><!--//section-block-->
              </section><!--//doc-section-->
              <section id="component-add-section" class="doc-section">
                  <h2 class="section-title">Custom Components</h2>

                  <div id="component-add" class="section-block">
                    <h6>Add New Component</h6>
                    <p>If you have a custom component that you wish to include in the codebase, you can do so by
                      using npm (Node Package Manager).</p>
                    <p>
                      Assuming the npm is already installed in your machine, go to <a href="https://www.npmjs.com/" target="_blank">npm site</a> 
                      and search for the package you wish to install. 
                    </p>
                    <p>
                      Once you found the package, open the terminal and navigate to the peterbook directory. Then install 
                      the component by typing the following in the command:
                    </p>
                    <code>(sudo) npm install --save <i>component-name</i></code>
                    <p>
                      <br/>The <code>--save</code> option is needed in order to include the component in the package.json 
                      file's dependencies automatically 
                      (<a href="https://stackoverflow.com/questions/19578796/what-is-the-save-option-for-npm-install" target="_blank">Source</a>)
                    </p>
                  </div>

                  <div id="component-check" class="section-block">
                    <h6>Check if Component was Added</h6>
                    <p>
                      Once the installation is complete, you can use the installed package just like any other components. 
                      To see if the package was successfully installed in package.json's dependencies, check:
                    </p>
                    <div>
                      <a href="assets/images/package_dependencies_1.png" data-title="Package_Install_Checklist1" data-toggle="lightbox"><img class="img-responsive" src="assets/images/package_dependencies_1.png" alt="screenshot" style="max-width: 480px"/></a>
                      <p>
                        (Is custom component's type added on dependencies similar to the highlight on image?)<br/><br/>
                      </p>
                    </div>
                    <div>
                        <a href="assets/images/package_dependencies_2.png" data-title="Package_Install_Checklist2" data-toggle="lightbox"><img class="img-responsive" src="assets/images/package_dependencies_2.png" alt="screenshot" style="max-width: 480px"/></a>
                        <p>
                          (Is custom component added on dependencies similar to the highlight on image?)<br/><br/>
                        </p>
                    </div>
                  </div>
              </section>

              <section id="inner-circle" class="doc-section">
                  <h2 class="section-title">Privacy Idea: The Inner Circle</h2>
                  <div id="ic-overview" class="section-block">
                    <h6>Overview</h6>
                    <a href="assets/images/inner-circle.png" data-title="Package_Install_Checklist2" data-toggle="lightbox"><img class="img-responsive" src="assets/images/inner-circle.png" alt="screenshot" style="max-width: 780px"/></a>
                    <p>
                      (not actually implemented)
                    </p>
                    <p>
                      The inner circle will determine how peterbook handles the level of access to user’s personal information 
                      or private contents to other users. We were able to come up with an idea of how to do this, but did 
                      not have enough time to actually implement it. As a result, we decided to document this idea so that future
                      teams can look at this and implement or improve upon it. 
                    </p>
                    <p>
                      - There will be 4 different layers of access user can grant to his/her "friends":
                      <ul style="list-style-type: upper-alpha">
                        <li>Only written posts (can only access the user’s written posts)</li>
                        <li>Only written posts and image posts (can access user’s image posts and written posts)</li>
                        <li>Access to posts and basic profile information (first name, last name, userID only)</li>
                        <li>Grant all access (email, my friend lists, phone numbers, etc)</li>
                      </ul>
                      Comment will be accessible regardless of level of access. Non-friend users will simply not have any access, regardless
                      of whether that user is friend of friends<br/>
                    </p>
                    <p>
                        When you send a friend request, you will always be requesting with level A.<br/>
                        When you receive a friend request, you will be able to choose which level of 
                        layer you wish to group this user in. It will be done with the slider just like the image above.                        
                    </p>
                  </div>
                  <div id="ic-post" class="section-block">
                    <h6>Additional Privacy Features</h6>
                    <p>
                      <i>Private Post</i><br/>
                      When user makes a post, he/she will also be able to select individual users whom you wish to share with. This post 
                      will have a different colored border around the post so that friends with an access will be able to distinguish the difference easily. 
                      <ul>
                        <li>This selection is independent from the level of layer. User may choose anyone you wish to share the post with. </li>
                        <li>To help selecting friends faster, there will be an user interface with layer of circles similar to the image above.<ul>
                            <li>To select a friend from the circle, simply click them</li>
                            <li>If user wish to find friends from the specific inner circle layer, he/she can move to slider to hide outer layers one by one.</li>
                            <li>(Debatable) Friends of friends but not users direct friend will be displayed outside of all circles.</li>
                            <li>User should also be able to manually write the friend's name if he/she wishes to.</li>
                          </ul>
                        </li>
                      </ul>
                    </p>
                  </div>
              </section>
              </section><!--//doc-section-->
            </div><!--//content-inner-->
          </div><!--//doc-content-->

          <div class="doc-sidebar hidden-xs">
            <nav id="doc-nav">
              <ul id="doc-menu" class="nav doc-menu" data-spy="affix">
                <!--<a class="scrollto" href="#repo-section">Our Project</a>-->
                <a class="scrollto" href="#repo">Our Repo/Code</a>
                <ul class="nav doc-sub-menu">
                    <li><a class="scrollto" href="#repo-react">React Redux</a></li>
                    <li><a class="scrollto" href="#/src/api">api</a></li>
                    <li><a class="scrollto" href="#/src/components">components</a></li>
                    <li><a class="scrollto" href="#/src/containers">containers</a></li>
                    <li><a class="scrollto" href="#/src/store">store</a></li>
                    <li><a class="scrollto" href="#/src/constants">constants</a></li>
                    <li><a class="scrollto" href="#/src/data">data</a></li>
                    <li><a class="scrollto" href="#/src/core">core</a></li>
                    <li><a class="scrollto" href="#/src/assets">assets</a></li>
                    <li><a class="scrollto" href="#/src/models">models</a></li>
                    <li><a class="scrollto" href="#/src/styles">styles</a></li>
                    <li><a class="scrollto" href="#/src/tests">tests</a></li>
                </ul>
                <a class="scrollto" href="#code-section">Editing the UI</a>
                <ul class="nav doc-sub-menu">
                  <li><a class="scrollto" href="#primary">Editing Primary Colors</a></li>
                  <li><a class="scrollto" href="#sidemenu">Editing the Sidebar Menu</a></li>
                </ul><!--//nav-->
                <a class="scrollto" href="#component-add-section">Custom Components</a>
                <ul class="nav doc-sub-menu">
                  <li><a class="scrollto" href="#component-add">Add new Component</a></li>
                  <li><a class="scrollto" href="#component-check">Check if Component was Added</a></li>
                </ul>
                <a class="scrollto" href="#inner-circle">Privacy Idea: The Inner Circle</a>
                <ul class="nav doc-sub-menu">
                  <li><a class="scrollto" href="#ic-overview">Overview</a></li>
                  <li><a class="scrollto" href="#ic-post">Additional Privacy Features</a></li>
                </ul>
                </li><a class="scrollto" href="#code-section">Editing this Documentation</a>
                <ul class="nav doc-sub-menu">
                  <li><a class="scrollto" href="#primary">Editing Primary Colors</a></li>
                </ul><!--//nav-->
                </li>
              </ul><!--//doc-menu-->
            </nav>
          </div><!--//doc-sidebar-->
        </div><!--//doc-body-->              
      </div><!--//container-->
    </div><!--//doc-wrapper-->
  </div><!--//page-wrapper-->

  <footer id="footer" class="footer text-center">
    <div class="container">
      <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can check out other license options via our website: themes.3rdwavemedia.com */-->
      <small class="copyright">Designed with <i class="fa fa-heart"></i> by <a href="http://themes.3rdwavemedia.com/" targe="_blank">Xiaoying Riley</a> for developers</small>
    </div><!--//container-->
  </footer><!--//footer-->

  <!-- Main Javascript -->          
  <script type="text/javascript" src="assets/plugins/jquery-1.12.3.min.js"></script>
  <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="assets/plugins/prism/prism.js"></script>    
  <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>                                                                
  <script type="text/javascript" src="assets/plugins/jquery-match-height/jquery.matchHeight-min.js"></script>
  <script type="text/javascript" src="assets/js/main.js"></script>

</body>
</html> 